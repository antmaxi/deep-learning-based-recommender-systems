% Plot NDCG vs k, for best tuned models and for k=1,...,10, for all datasets
% \pgfplotstabletypeset{data.dat}

% Note about .dat file formating.
% Should have 3 columns, i.e.:
% k HR NDCG
% The k is ranging from 1 to 10.
% The respective Hit Ratios under HR.
% The respective NDCGs under NDCG.
\begin{figure*}
    \centering
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %%%%%%%%%%%% Movielens %%%%%%%%%%%%
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \begin{subfigure}[ht]{0.3\textwidth}
        \centering
        \begin{tikzpicture}[scale=0.5]
        \begin{axis}[xlabel=k,ylabel=NDCG@k]
        \addplot table [x=k, y=NDCG]{results/movielens_gmf.dat};
        \addlegendentry{GMF(32)}
        \addplot table [x=k, y=NDCG]{results/movielens_mlp.dat};
        \addlegendentry{MLP(4)}
        \addplot table [x=k, y=NDCG]{results/movielens_neumf.dat};
        \addlegendentry{NeuMF(32,2)}
        \end{axis}
        \end{tikzpicture}
        \caption{Movielens}
    \end{subfigure}
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %%%%%%%%%%%%% Jester %%%%%%%%%%%%%%
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \begin{subfigure}[ht]{0.3\textwidth}
        \centering
        \begin{tikzpicture}[scale=0.5]
        \begin{axis}[xlabel=k,ylabel=NDCG@k]
        \addplot table [x=k, y=NDCG]{results/jester_gmf.dat};
        \addlegendentry{GMF(16)}
        \addplot table [x=k, y=NDCG]{results/jester_mlp.dat};
        \addlegendentry{MLP(3)}
        \addplot table [x=k, y=NDCG]{results/jester_neumf.dat};
        \addlegendentry{NeuMF(8,2)}
        \end{axis}
        \end{tikzpicture}
        \caption{Jester}
    \end{subfigure}
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %%%%%%%%%%% Epinions %%%%%%%%%%%%%%%
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \begin{subfigure}[ht]{0.3\textwidth}
        \centering
        \begin{tikzpicture}[scale=0.5]
        \begin{axis}[xlabel=k,ylabel=NDCG@k]
        \addplot table [x=k, y=NDCG]{results/epinions_gmf.dat};
        \addlegendentry{GMF(64)}
        \addplot table [x=k, y=NDCG]{results/epinions_mlp.dat};
        \addlegendentry{MLP(2)}
        \addplot table [x=k, y=NDCG]{results/epinions_neumf.dat};
        \addlegendentry{NeuMF(32,2)}
        \end{axis}
        \end{tikzpicture}
        \caption{Epinions}
    \end{subfigure} 
    \caption{NDCG at k versus k.}
\end{figure*}
