% Plot HR vs k, for best tuned models and for k=1,...,10, for all datasets
% \pgfplotstabletypeset{data.dat}

% Note about .dat file formating.
% Should have 3 columns, i.e.:
% k HR NDCG
% The k is ranging from 1 to 10.
% The respective Hit Ratios under HR.
% The respective NDCGs under NDCG.
\begin{figure*}[t]
    \centering
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %%%%%% Hit Ratio - Movielens %%%%%%
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \begin{subfigure}[ht]{0.3\textwidth}
        \centering
        \begin{tikzpicture}[scale=0.5]
        \begin{axis}[cycle list name=custom, tick style={line width=0.6pt}, ymajorgrids, xlabel=k,ylabel=HR@k, legend pos=south east]
        \addplot table [x=k, y=HR]{results/movielens_gmf.dat};
        \addlegendentry{GMF(32)}
        \addplot table [x=k, y=HR]{results/movielens_mlp.dat};
        \addlegendentry{MLP(4)}
        \addplot table [x=k, y=HR]{results/movielens_neumf.dat};
        \addlegendentry{NeuMF(32,2)}
        \end{axis}
        \end{tikzpicture}
        \caption{Movielens}
    \end{subfigure}
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %%%%%%% Hit Ratio - Jester %%%%%%%%
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \begin{subfigure}[ht]{0.3\textwidth}
        \centering
        \begin{tikzpicture}[scale=0.5]
        \begin{axis}[xlabel=k,ylabel=HR@k, legend pos=south east]
        \addplot table [x=k, y=HR]{results/jester_gmf.dat};
        \addlegendentry{GMF(16)}
        \addplot table [x=k, y=HR]{results/jester_mlp.dat};
        \addlegendentry{MLP(3)}
        \addplot table [x=k, y=HR]{results/jester_neumf.dat};
        \addlegendentry{NeuMF(8,2)}
        \end{axis}
        \end{tikzpicture}
        \caption{Jester}
    \end{subfigure}
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %%%%% Hit Ratio - Epinions %%%%%%%%%
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \begin{subfigure}[ht]{0.3\textwidth}
        \centering
        \begin{tikzpicture}[scale=0.5]
        \begin{axis}[xlabel=k,ylabel=HR@k, legend pos=south east]
        \addplot table [x=k, y=HR]{results/epinions_gmf.dat};
        \addlegendentry{GMF(64)}
        \addplot table [x=k, y=HR]{results/epinions_mlp.dat};
        \addlegendentry{MLP(2)}
        \addplot table [x=k, y=HR]{results/epinions_neumf.dat};
        \addlegendentry{NeuMF(32,2)}
        \end{axis}
        \end{tikzpicture}
        \caption{Epinions}
    \end{subfigure} 

    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %%%%%%%%% NDCG - Movielens %%%%%%%%%
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \begin{subfigure}[ht]{0.3\textwidth}
        \centering
        \begin{tikzpicture}[scale=0.5]
        \begin{axis}[xlabel=k,ylabel=NDCG@k, legend pos=south east]
        \addplot table [x=k, y=NDCG]{results/movielens_gmf.dat};
        \addlegendentry{GMF(32)}
        \addplot table [x=k, y=NDCG]{results/movielens_mlp.dat};
        \addlegendentry{MLP(4)}
        \addplot table [x=k, y=NDCG]{results/movielens_neumf.dat};
        \addlegendentry{NeuMF(32,2)}
        \end{axis}
        \end{tikzpicture}
        \caption{Movielens}
    \end{subfigure}
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %%%%%%%%%% NDCG - Jester %%%%%%%%%%
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \begin{subfigure}[ht]{0.3\textwidth}
        \centering
        \begin{tikzpicture}[scale=0.5]
        \begin{axis}[xlabel=k,ylabel=NDCG@k, legend pos=south east]
        \addplot table [x=k, y=NDCG]{results/jester_gmf.dat};
        \addlegendentry{GMF(16)}
        \addplot table [x=k, y=NDCG]{results/jester_mlp.dat};
        \addlegendentry{MLP(3)}
        \addplot table [x=k, y=NDCG]{results/jester_neumf.dat};
        \addlegendentry{NeuMF(8,2)}
        \end{axis}
        \end{tikzpicture}
        \caption{Jester}
    \end{subfigure}
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    %%%%%%%%% NDCG - Epinions %%%%%%%%%%
    %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
    \begin{subfigure}[ht]{0.3\textwidth}
        \centering
        \begin{tikzpicture}[scale=0.5]
        \begin{axis}[xlabel=k,ylabel=NDCG@k, legend pos=south east]
        \addplot table [x=k, y=NDCG]{results/epinions_gmf.dat};
        \addlegendentry{GMF(64)}
        \addplot table [x=k, y=NDCG]{results/epinions_mlp.dat};
        \addlegendentry{MLP(2)}
        \addplot table [x=k, y=NDCG]{results/epinions_neumf.dat};
        \addlegendentry{NeuMF(32,2)}
        \end{axis}
        \end{tikzpicture}
        \caption{Epinions}
    \end{subfigure} 
    \caption{\imp{Top row}: Hit Ratio versus k.\hfil \imp{Bottom row}: NDCG versus k.}
\end{figure*}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: "../../report"
%%% End:
